<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Round 2 â€“ Live Leaderboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<h1>ğŸ† Round 2 â€“ Bidding Leaderboard</h1>

<table id="leaderboard">
    <thead>
        <tr>
            <th>Rank</th>
            <th>Name</th>
            <th>Points</th>
            <th>Gold Coins ğŸª™</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
async function loadLeaderboard() {
    const res = await fetch('/scores');
    const data = await res.json();

    const tbody = document.querySelector("tbody");
    tbody.innerHTML = "";

    data.forEach((p, index) => {
        tbody.innerHTML += `
        <tr>
            <td>${index + 1}</td>
            <td>${p.name}</td>
            <td>${p.points}</td>
            <td>${p.gold}</td>
        </tr>`;
    });
}

loadLeaderboard();
setInterval(loadLeaderboard, 2000); // refresh every 2 seconds
</script>

</body>
</html>
